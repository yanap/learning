<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script type="text/javascript">
var worker;
function calculate() {
    if(worker) {
         worker.terminate();
    }
    var num = document.getElementById("num").value;
    worker = new Worker("worker1.js");
    worker.onmessage = function(event) {
        alert("合計は" + event.data + "です。");
   };
   worker.postMessage(num);
}

function stopCalculation() {
    if(worker) {
        worker.terminate();
    }
    alert("停止しました。");
}

</script>
</head>
<body>
<h1>Web Workersのサンプル</h1>
<h2>1から入力値までの合計を算出します。</h2>
数値を入力:<input type="text" id="num">
<button onclick="calculate()">計算</button>
<button onclick="stopCalculation()">計算停止</button>
</body>
</html>

